<!DOCTYPE html>
<html>
    <head>
        <title>EvAccum</title>
        <script src="jspsych-6.1.0/jspsych.js"></script>
        <script src="jspsych-6.1.0/plugins/jspsych-html-keyboard-response.js"></script>
		<script src="jspsych-6.1.0/plugins/jspsych-image-keyboard-response.js"></script>
		<script src="jspsych-6.1.0/plugins/jspsych-rdk.js"></script>
        <link href="jspsych-6.1.0/css/jspsych.css" rel="stylesheet" type="text/css"></link>
    </head>
    <body></body>
    <script>


		/* keys */
		var resp_keys = ['a', 's'];

		/* cues */
		var cues = [
			{stimulus: "stimuli/1-3.png"},
			{stimulus: "stimuli/2-4.png"},
			{stimulus: "stimuli/3-1.png"},
			{stimulus: "stimuli/4-2.png"}
		];

		/* coherence values */
		var coherences = [0.2,0.8];


		/* initialise timeline array */
        var timeline =[];

		/* start screen */
		// var startscreen = {
		//	type: "html-keyboard-response",
        //    stimulus: "Press any key to begin."
        //};
		//timeline.push(startscreen);

		/* fixation */
		var fixation = {
			type: 'html-keyboard-response',
			stimulus: '<div style="font-size:60px;">+</div>',
			// choices: jsPsych.NO_KEYS,
			// trial_duration: 300,
			data: {test_part: 'fixation'}
		};

		/* fixation */
		var fixation2 = {
			type: 'html-keyboard-response',
			stimulus: '<div style="font-size:60px;">+</div>',
			choices: jsPsych.NO_KEYS,
			trial_duration: 300,
			data: {test_part: 'fixation'}
		};

		var rdk_block = {
			type: "rdk", 
			background_color: "black",
			aperture_type: 1,
			fixation_cross: true,
			fixation_cross_color: "white",
			fixation_cross_thickness: 6,
			post_trial_gap: 0,
			number_of_dots: 200,
			coherence: 0.5,
			move_distance: 1,
			choices: ["a", "l"],
			correct_choice: "a",
			coherent_direction: 45,
			trial_duration: 1500
		};
		
		timeline.push(fixation);
		timeline.push(rdk_block);
		timeline.push(fixation2);
		timeline.push(rdk_block);
		timeline.push(fixation2);
		timeline.push(rdk_block);
		timeline.push(fixation2);
		timeline.push(rdk_block);
		timeline.push(fixation2);
		timeline.push(rdk_block);
		timeline.push(fixation2);
		timeline.push(rdk_block);
		timeline.push(fixation2);
		timeline.push(rdk_block);
		timeline.push(fixation2);
		timeline.push(rdk_block);
		timeline.push(fixation);

		/* start screen */
		var easycoh = {
			type: "html-keyboard-response",
            stimulus: "easy coherence"
        };
		timeline.push(easycoh);
		timeline.push(easycoh);
		var ec_block = {
			type: "rdk", 
			background_color: "black",
			aperture_type: 1,
			fixation_cross: true,
			fixation_cross_color: "white",
			fixation_cross_thickness: 6,
			post_trial_gap: 0,
			number_of_dots: 200,
			coherence: 0.8,
			move_distance: 1,
			choices: ["a", "l"],
			correct_choice: "a",
			coherent_direction: 45,
			trial_duration: 1500
		};
		timeline.push(ec_block);
		var hardcoh = {
			type: "html-keyboard-response",
            stimulus: "hard coherence"
        };
		timeline.push(hardcoh);
		timeline.push(hardcoh);
		var hc_block = {
			type: "rdk", 
			background_color: "black",
			aperture_type: 1,
			fixation_cross: true,
			fixation_cross_color: "white",
			fixation_cross_thickness: 6,
			post_trial_gap: 0,
			number_of_dots: 200,
			coherence: 0.3,
			move_distance: 1,
			choices: ["a", "l"],
			correct_choice: "a",
			coherent_direction: 45,
			trial_duration: 1500
		};
		timeline.push(hc_block);
		var easyrule = {
			type: "html-keyboard-response",
            stimulus: "easy rule"
        };
		timeline.push(easyrule);
		timeline.push(easyrule);
		var hardrule = {
			type: "html-keyboard-response",
            stimulus: "hard rule"
        };
		timeline.push(ec_block);
		timeline.push(hardrule);
		timeline.push(hardrule);
		var hr_block = {
			type: "rdk", 
			background_color: "black",
			aperture_type: 1,
			fixation_cross: true,
			fixation_cross_color: "white",
			fixation_cross_thickness: 6,
			post_trial_gap: 0,
			number_of_dots: 200,
			coherence: 0.8,
			move_distance: 1,
			choices: ["a", "l"],
			correct_choice: "a",
			coherent_direction: 120,
			trial_duration: 1500
		};
		timeline.push(hr_block);




		/* initialise experiment */
        jsPsych.init({
            timeline: timeline
        });

    </script>
</html>
